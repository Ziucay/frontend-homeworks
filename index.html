<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Portfolio</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flexboxgrid/6.3.1/flexboxgrid.min.css"
          type="text/css">
</head>
<body>
<div id="content" class="row" style="padding: 10px">
    <div class="column col-xl-2 col-lg-3 col-md-6 col-xs-12">
        <div class="blurred" style="flex-direction: column; align-items: center">
            <img src="face.png" alt="avatar" style="height: 15em; width: 15em; justify-content: center">
            <div style="justify-content: center; text-align: center;">
                <a href="https://t.me/Ziucay" style="color: white">
                    <img src="telegram.png" alt="telegram" style="display: inline-block; height: 2em; width: 2em; vertical-align: middle; padding: 0 1em"> Telegram
                </a>
            </div>
            <p id="random-recipe" style="color: white"></p>
        </div>
    </div>



    <div class="col-xl-10 col-lg-9 col-md-6 col-xs-12">
        <div class=" blurred">
            <p style="color: white">
                Hello! My name is Azat! This is my portfolio website! Here you can get to know me better!<br>
                Stuff that I use: Kotlin, Java, Spring Boot, Git, Docker, Maven, HTML, CSS, GitHub<br>
            </p>

        </div>
    </div>

    <script>
        async function getDrink() {

            let response = await fetch("https://www.thecocktaildb.com/api/json/v1/1/random.php")
            return response.json()
        }

        function parseItems(itemStr, drink)
        {
            let items = []
            for (let i = 1; i <= 15;i+=1)
            {
                items[i] = drink[`${itemStr}${i}`]
            }

            items = items.filter((value) => value !== null)
            return items
        }

        async function getRandomDrink() {
            let recipe = await getDrink()
            let drink = await recipe.drinks[0]
            console.log(drink)

            let name = await drink["strDrink"]
            let glass = await drink["strGlass"]
            let instruction = await drink["strInstructions"]
            let ingredients = parseItems('strIngredient', drink)
            let measurements = parseItems('strMeasure', drink)

            ingredientsList = ""
            for (let i = 0; i < measurements.length;i+=1)
            {
                if (ingredients[i] == null || measurements[i] == null)
                    continue
                ingredientsList += `${ingredients[i]} - ${measurements[i]} <br>`
            }

            document.getElementById("random-recipe").innerHTML =
                `
                Here's a drink for you! <br>
                Name: ${name} <br>
                Glass to use: ${glass} <br>
                Instruction: ${instruction} <br>
                Ingredients: <br>
                ${ingredientsList}
                `
        }

        window.onload = getRandomDrink()
    </script>

</div>

</body>
</html>